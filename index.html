<!-- <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>AR Image Wall</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/XRControllerModelFactory.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/XRTargetRaySpace.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/GLTFLoader.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="upload-container">
        <input type="file" id="image-upload" accept="image/*" />
        <label for="image-upload">
            <i class="fas fa-image"></i> Choose Image
        </label>
    </div>
    
    <div id="enter-ar">
        <button id="ar-button" class="primary-btn">
            <i class="fas fa-cube"></i> Start AR
        </button>
    </div>
    
    <div id="controls-ui">
        <div class="control-group">
            <button id="move-btn" class="control-btn">
                <i class="fas fa-arrows-alt"></i>
                <span>Move</span>
            </button>
            <button id="resize-btn" class="control-btn">
                <i class="fas fa-expand-alt"></i>
                <span>Resize</span>
            </button>
        </div>
        <div id="dimensions-display">
            <i class="fas fa-ruler-combined"></i>
            <span>100cm Ã— 75cm</span>
        </div>
    </div>
    
    <div id="unsupported" class="modal">
        <div class="modal-content">
            <h3>AR Not Supported</h3>
            <p>Your device doesn't seem to support AR features. Try using a modern Android or iOS device.</p>
            <button id="close-modal" class="primary-btn">OK</button>
        </div>
    </div>
    
    <script src="index.js"></script>
</body>
</html> -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AR Image Placement</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- A-Frame and AR.js -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.2/aframe/build/aframe-ar.min.js"></script>

    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      #ui {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 9999;
        background: rgba(255, 255, 255, 0.8);
        padding: 10px;
        border-radius: 8px;
      }
      #ui input,
      #ui button {
        display: block;
        margin: 5px 0;
      }
    </style>
  </head>
  <body>
    <!-- UI Controls -->
    <div id="ui">
      <input type="file" id="image-upload" accept="image/*" />
      <button id="resize-up">Resize +</button>
      <button id="resize-down">Resize -</button>
      <span id="dimensions">--</span>
    </div>

    <!-- AR Scene -->
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >
      <a-entity camera></a-entity>

      <a-marker preset="hiro">
        <a-image
          id="placed-image"
          visible="false"
          position="0 0 0"
          rotation="-90 0 0"
          width="1"
          height="1"
        ></a-image>
      </a-marker>

      <a-entity light="type: ambient; color: #fff"></a-entity>
    </a-scene>

    <script>
      const uploadInput = document.getElementById("image-upload");
      const imageEntity = document.getElementById("placed-image");
      const resizeUp = document.getElementById("resize-up");
      const resizeDown = document.getElementById("resize-down");
      const dimensionsText = document.getElementById("dimensions");

      let currentSize = 1; // in meters

      uploadInput.addEventListener("change", (event) => {
        const file = event.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function (e) {
          imageEntity.setAttribute("src", e.target.result);
          imageEntity.setAttribute("visible", true);
          updateDimensions();
        };
        reader.readAsDataURL(file);
      });

      resizeUp.addEventListener("click", () => {
        currentSize = Math.min(currentSize + 0.1, 3.0); // limit to 3 meters
        applySize();
      });

      resizeDown.addEventListener("click", () => {
        currentSize = Math.max(currentSize - 0.1, 0.1); // limit to 10 cm
        applySize();
      });

      function applySize() {
        imageEntity.setAttribute("width", currentSize);
        imageEntity.setAttribute("height", currentSize);
        updateDimensions();
      }

      function updateDimensions() {
        dimensionsText.textContent = `Size: ${Math.round(
          currentSize * 100
        )} cm`;
      }
    </script>
  </body>
</html>
